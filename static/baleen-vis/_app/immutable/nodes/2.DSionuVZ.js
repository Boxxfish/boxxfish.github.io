import{s as Ye,n as Ve,f as xe}from"../chunks/scheduler.Cv2zyRbU.js";import{S as Ze,i as $e,e as v,s as j,b as S,m as De,y as et,c as p,g as o,h as E,z as L,d as M,f as V,o as N,k as m,j as _,l as Q,A as Z,B as tt}from"../chunks/index.BHQaDWkU.js";function F(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const lt=async({fetch:n,params:l})=>await(await n(`./data/${l.slug.split(".")[0]}.json`)).json(),nt=()=>[...Array(10).keys()].map(l=>({slug:`${l}`})),ct=Object.freeze(Object.defineProperty({__proto__:null,entries:nt,load:lt},Symbol.toStringTag,{value:"Module"}));function Pe(n,l,s){const i=n.slice();return i[4]=l[s],i}function Be(n,l,s){const i=n.slice();return i[7]=l[s],i}function ze(n,l,s){const i=n.slice();return i[7]=l[s],i}function Ae(n,l,s){const i=n.slice();return i[12]=l[s],i[14]=s,i}function He(n,l,s){const i=n.slice();return i[15]=l[s],i}function Me(n,l,s){const i=n.slice();return i[15]=l[s],i}function Fe(n,l,s){const i=n.slice();return i[20]=l[s],i[22]=s,i}function Le(n,l,s){const i=n.slice();return i[22]=l[s],i}function Qe(n){let l,s,i,a,f;function u(){return n[3](n[22])}return{c(){l=v("button"),s=S(n[22]),this.h()},l(c){l=p(c,"BUTTON",{class:!0});var d=M(l);s=V(d,n[22]),d.forEach(o),this.h()},h(){N(l,"class",i=xe(n[1]==n[22]?"step-selected":"")+" svelte-ydjcdr")},m(c,d){_(c,l,d),m(l,s),a||(f=tt(l,"click",u),a=!0)},p(c,d){n=c,d&2&&i!==(i=xe(n[1]==n[22]?"step-selected":"")+" svelte-ydjcdr")&&N(l,"class",i)},d(c){c&&o(l),a=!1,f()}}}function Ke(n){let l,s=n[20]+"",i;return{c(){l=v("div"),i=S(s),this.h()},l(a){l=p(a,"DIV",{class:!0});var f=M(l);i=V(f,s),f.forEach(o),this.h()},h(){N(l,"class","token "+(n[22]<64?"token-q":"token-c")+" svelte-ydjcdr")},m(a,f){_(a,l,f),m(l,i)},p(a,f){f&4&&s!==(s=a[20]+"")&&Q(i,s)},d(a){a&&o(l)}}}function Oe(n){let l,s=n[2].c_toks[n[15]]+"",i;return{c(){l=v("div"),i=S(s),this.h()},l(a){l=p(a,"DIV",{class:!0});var f=M(l);i=V(f,s),f.forEach(o),this.h()},h(){N(l,"class","token token-q svelte-ydjcdr")},m(a,f){_(a,l,f),m(l,i)},p(a,f){f&4&&s!==(s=a[2].c_toks[a[15]]+"")&&Q(i,s)},d(a){a&&o(l)}}}function Re(n){let l,s="Context Token Matches (8)",i,a,f=F(n[2].c_matches[n[14]]),u=[];for(let c=0;c<f.length;c+=1)u[c]=Ue(He(n,f,c));return{c(){l=v("span"),l.textContent=s,i=j(),a=v("div");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){l=p(c,"SPAN",{"data-svelte-h":!0}),L(l)!=="svelte-19peww2"&&(l.textContent=s),i=E(c),a=p(c,"DIV",{class:!0});var d=M(a);for(let h=0;h<u.length;h+=1)u[h].l(d);d.forEach(o),this.h()},h(){N(a,"class","token-list svelte-ydjcdr")},m(c,d){_(c,l,d),_(c,i,d),_(c,a,d);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(a,null)},p(c,d){if(d&4){f=F(c[2].c_matches[c[14]]);let h;for(h=0;h<f.length;h+=1){const x=He(c,f,h);u[h]?u[h].p(x,d):(u[h]=Ue(x),u[h].c(),u[h].m(a,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=f.length}},d(c){c&&(o(l),o(i),o(a)),Z(u,c)}}}function Ue(n){let l,s=n[2].c_toks[64+n[15]]+"",i;return{c(){l=v("div"),i=S(s),this.h()},l(a){l=p(a,"DIV",{class:!0});var f=M(l);i=V(f,s),f.forEach(o),this.h()},h(){N(l,"class","token token-c svelte-ydjcdr")},m(a,f){_(a,l,f),m(l,i)},p(a,f){f&4&&s!==(s=a[2].c_toks[64+a[15]]+"")&&Q(i,s)},d(a){a&&o(l)}}}function Ge(n){let l,s,i=n[12][0].toFixed(2)+"",a,f,u=n[12][1]+"",c,d,h,x,w="Query Token Matches (32)",b,g,U,G=F(n[2].q_matches[n[14]]),y=[];for(let k=0;k<G.length;k+=1)y[k]=Oe(Me(n,G,k));let I=n[2].c_matches[n[14]].length>0&&Re(n);return{c(){l=v("p"),s=v("b"),a=S(i),f=S(": "),c=S(u),d=j(),h=v("div"),x=v("span"),x.textContent=w,b=j(),g=v("div");for(let k=0;k<y.length;k+=1)y[k].c();U=j(),I&&I.c(),this.h()},l(k){l=p(k,"P",{});var D=M(l);s=p(D,"B",{});var C=M(s);a=V(C,i),f=V(C,": "),c=V(C,u),C.forEach(o),D.forEach(o),d=E(k),h=p(k,"DIV",{});var K=M(h);x=p(K,"SPAN",{"data-svelte-h":!0}),L(x)!=="svelte-182sf6i"&&(x.textContent=w),b=E(K),g=p(K,"DIV",{class:!0});var $=M(g);for(let O=0;O<y.length;O+=1)y[O].l($);$.forEach(o),U=E(K),I&&I.l(K),K.forEach(o),this.h()},h(){N(g,"class","token-list svelte-ydjcdr")},m(k,D){_(k,l,D),m(l,s),m(s,a),m(s,f),m(s,c),_(k,d,D),_(k,h,D),m(h,x),m(h,b),m(h,g);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(g,null);m(h,U),I&&I.m(h,null)},p(k,D){if(D&4&&i!==(i=k[12][0].toFixed(2)+"")&&Q(a,i),D&4&&u!==(u=k[12][1]+"")&&Q(c,u),D&4){G=F(k[2].q_matches[k[14]]);let C;for(C=0;C<G.length;C+=1){const K=Me(k,G,C);y[C]?y[C].p(K,D):(y[C]=Oe(K),y[C].c(),y[C].m(g,null))}for(;C<y.length;C+=1)y[C].d(1);y.length=G.length}k[2].c_matches[k[14]].length>0?I?I.p(k,D):(I=Re(k),I.c(),I.m(h,null)):I&&(I.d(1),I=null)},d(k){k&&(o(l),o(d),o(h)),Z(y,k),I&&I.d()}}}function Je(n){let l,s,i=n[7][0].toFixed(2)+"",a,f,u=n[7][1].split("|")[0]+"",c,d,h=n[7][1].split("|")[1]+"",x;return{c(){l=v("p"),s=v("b"),a=S(i),f=S(": "),c=S(u),d=j(),x=S(h)},l(w){l=p(w,"P",{});var b=M(l);s=p(b,"B",{});var g=M(s);a=V(g,i),f=V(g,": "),c=V(g,u),g.forEach(o),d=E(b),x=V(b,h),b.forEach(o)},m(w,b){_(w,l,b),m(l,s),m(s,a),m(s,f),m(s,c),m(l,d),m(l,x)},p(w,b){b&4&&i!==(i=w[7][0].toFixed(2)+"")&&Q(a,i),b&4&&u!==(u=w[7][1].split("|")[0]+"")&&Q(c,u),b&4&&h!==(h=w[7][1].split("|")[1]+"")&&Q(x,h)},d(w){w&&o(l)}}}function We(n){let l,s,i=n[7][0].toFixed(2)+"",a,f,u=n[7][1].split("|")[0]+"",c,d,h=n[7][1].split("|")[1]+"",x,w;return{c(){l=v("p"),s=v("b"),a=S(i),f=S(": "),c=S(u),d=j(),x=S(h),this.h()},l(b){l=p(b,"P",{class:!0});var g=M(l);s=p(g,"B",{});var U=M(s);a=V(U,i),f=V(U,": "),c=V(U,u),U.forEach(o),d=E(g),x=V(g,h),g.forEach(o),this.h()},h(){N(l,"class",w=xe(n[7][0]<0?"condenser-excluded":"")+" svelte-ydjcdr")},m(b,g){_(b,l,g),m(l,s),m(s,a),m(s,f),m(s,c),m(l,d),m(l,x)},p(b,g){g&4&&i!==(i=b[7][0].toFixed(2)+"")&&Q(a,i),g&4&&u!==(u=b[7][1].split("|")[0]+"")&&Q(c,u),g&4&&h!==(h=b[7][1].split("|")[1]+"")&&Q(x,h),g&4&&w!==(w=xe(b[7][0]<0?"condenser-excluded":"")+" svelte-ydjcdr")&&N(l,"class",w)},d(b){b&&o(l)}}}function Xe(n){let l,s,i=n[4].split("|")[0]+"",a,f,u=n[4].split("|")[1]+"",c;return{c(){l=v("p"),s=v("b"),a=S(i),f=j(),c=S(u)},l(d){l=p(d,"P",{});var h=M(l);s=p(h,"B",{});var x=M(s);a=V(x,i),x.forEach(o),f=E(h),c=V(h,u),h.forEach(o)},m(d,h){_(d,l,h),m(l,s),m(s,a),m(l,f),m(l,c)},p(d,h){h&4&&i!==(i=d[4].split("|")[0]+"")&&Q(a,i),h&4&&u!==(u=d[4].split("|")[1]+"")&&Q(c,u)},d(d){d&&o(l)}}}function st(n){let l,s,i,a,f,u="Baleen Visualizer",c,d,h,x=n[0].query+"",w,b,g,U="Hop",G,y,I,k="Query + Context",D,C,K=`At the start of each hop, the query and context are tokenized and
  contextualized with a BERT-based model. Queries are padded to a length of 64
  with [MASK] tokens.`,$,O,_e,ee,Ee="Retrieval",de,J,ye=`Each document is scored using the contextualized query. Unlike ColBERT, not
  every token in the query/context is used. Instead, Baleen uses <i>focused</i> late
  interaction, where only the top N most relevant query/context tokens are used for
  MaxSim. The score for the query and the score for the context are computed independently,
  and use a different number of tokens (32 for the query, 8 for the context).`,ve,se,te,Ie="Condenser (Stage 1)",pe,W,qe=`The first stage reads all passages independently, then assigns a score to each
  sentence within the passage. The top 9 sentences across all passages ove on to
  the next stage.`,me,ie,le,we="Condenser (Stage 2)",ge,X,Ne=`The second stage reads all sentences from the previous stage at once, then
  rescores all sentences. All positive passages move on.`,ke,oe,ne,Te="New Context",Ce,Y,Se=`The context for the next hop consists of the facts produced by the previous stage. If this is the final hop, the query
  and context are passed to the reader for answering.`,be,ae,je=F([0,1,2,3]),R=[];for(let e=0;e<4;e+=1)R[e]=Qe(Le(n,je,e));let ce=F(n[2].c_toks),P=[];for(let e=0;e<ce.length;e+=1)P[e]=Ke(Fe(n,ce,e));let he=F(n[2].ranking),B=[];for(let e=0;e<he.length;e+=1)B[e]=Ge(Ae(n,he,e));let fe=F(n[2].stage1),z=[];for(let e=0;e<fe.length;e+=1)z[e]=Je(ze(n,fe,e));let re=F(n[2].stage2),A=[];for(let e=0;e<re.length;e+=1)A[e]=We(Be(n,re,e));let ue=F(n[2].new_ctx.split("[SEP]")),H=[];for(let e=0;e<ue.length;e+=1)H[e]=Xe(Pe(n,ue,e));return{c(){l=v("link"),s=v("link"),i=v("link"),a=j(),f=v("h1"),f.textContent=u,c=j(),d=v("p"),h=S("Query: "),w=S(x),b=j(),g=v("span"),g.textContent=U,G=j();for(let e=0;e<4;e+=1)R[e].c();y=j(),I=v("h2"),I.textContent=k,D=j(),C=v("div"),C.textContent=K,$=j(),O=v("div");for(let e=0;e<P.length;e+=1)P[e].c();_e=j(),ee=v("h2"),ee.textContent=Ee,de=j(),J=v("div"),J.innerHTML=ye,ve=j();for(let e=0;e<B.length;e+=1)B[e].c();se=j(),te=v("h2"),te.textContent=Ie,pe=j(),W=v("div"),W.textContent=qe,me=j();for(let e=0;e<z.length;e+=1)z[e].c();ie=j(),le=v("h2"),le.textContent=we,ge=j(),X=v("div"),X.textContent=Ne,ke=j();for(let e=0;e<A.length;e+=1)A[e].c();oe=j(),ne=v("h2"),ne.textContent=Te,Ce=j(),Y=v("div"),Y.textContent=Se,be=j();for(let e=0;e<H.length;e+=1)H[e].c();ae=De(),this.h()},l(e){const r=et("svelte-pa9zau",document.head);l=p(r,"LINK",{rel:!0,href:!0}),s=p(r,"LINK",{rel:!0,href:!0,crossorigin:!0}),i=p(r,"LINK",{href:!0,rel:!0}),r.forEach(o),a=E(e),f=p(e,"H1",{"data-svelte-h":!0}),L(f)!=="svelte-c58z83"&&(f.textContent=u),c=E(e),d=p(e,"P",{});var t=M(d);h=V(t,"Query: "),w=V(t,x),t.forEach(o),b=E(e),g=p(e,"SPAN",{"data-svelte-h":!0}),L(g)!=="svelte-1iy9k2b"&&(g.textContent=U),G=E(e);for(let q=0;q<4;q+=1)R[q].l(e);y=E(e),I=p(e,"H2",{"data-svelte-h":!0}),L(I)!=="svelte-1m5ncis"&&(I.textContent=k),D=E(e),C=p(e,"DIV",{class:!0,"data-svelte-h":!0}),L(C)!=="svelte-11dr055"&&(C.textContent=K),$=E(e),O=p(e,"DIV",{class:!0});var T=M(O);for(let q=0;q<P.length;q+=1)P[q].l(T);T.forEach(o),_e=E(e),ee=p(e,"H2",{"data-svelte-h":!0}),L(ee)!=="svelte-1cx83v6"&&(ee.textContent=Ee),de=E(e),J=p(e,"DIV",{class:!0,"data-svelte-h":!0}),L(J)!=="svelte-kj5rhx"&&(J.innerHTML=ye),ve=E(e);for(let q=0;q<B.length;q+=1)B[q].l(e);se=E(e),te=p(e,"H2",{"data-svelte-h":!0}),L(te)!=="svelte-12qkxrj"&&(te.textContent=Ie),pe=E(e),W=p(e,"DIV",{class:!0,"data-svelte-h":!0}),L(W)!=="svelte-1r0tew6"&&(W.textContent=qe),me=E(e);for(let q=0;q<z.length;q+=1)z[q].l(e);ie=E(e),le=p(e,"H2",{"data-svelte-h":!0}),L(le)!=="svelte-u86rdi"&&(le.textContent=we),ge=E(e),X=p(e,"DIV",{class:!0,"data-svelte-h":!0}),L(X)!=="svelte-1mrr67c"&&(X.textContent=Ne),ke=E(e);for(let q=0;q<A.length;q+=1)A[q].l(e);oe=E(e),ne=p(e,"H2",{"data-svelte-h":!0}),L(ne)!=="svelte-1sz1qfl"&&(ne.textContent=Te),Ce=E(e),Y=p(e,"DIV",{class:!0,"data-svelte-h":!0}),L(Y)!=="svelte-63tgis"&&(Y.textContent=Se),be=E(e);for(let q=0;q<H.length;q+=1)H[q].l(e);ae=De(),this.h()},h(){N(l,"rel","preconnect"),N(l,"href","https://fonts.googleapis.com"),N(s,"rel","preconnect"),N(s,"href","https://fonts.gstatic.com"),N(s,"crossorigin","true"),N(i,"href","https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"),N(i,"rel","stylesheet"),N(C,"class","explanation svelte-ydjcdr"),N(O,"class","token-list svelte-ydjcdr"),N(J,"class","explanation svelte-ydjcdr"),N(W,"class","explanation svelte-ydjcdr"),N(X,"class","explanation svelte-ydjcdr"),N(Y,"class","explanation svelte-ydjcdr")},m(e,r){m(document.head,l),m(document.head,s),m(document.head,i),_(e,a,r),_(e,f,r),_(e,c,r),_(e,d,r),m(d,h),m(d,w),_(e,b,r),_(e,g,r),_(e,G,r);for(let t=0;t<4;t+=1)R[t]&&R[t].m(e,r);_(e,y,r),_(e,I,r),_(e,D,r),_(e,C,r),_(e,$,r),_(e,O,r);for(let t=0;t<P.length;t+=1)P[t]&&P[t].m(O,null);_(e,_e,r),_(e,ee,r),_(e,de,r),_(e,J,r),_(e,ve,r);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(e,r);_(e,se,r),_(e,te,r),_(e,pe,r),_(e,W,r),_(e,me,r);for(let t=0;t<z.length;t+=1)z[t]&&z[t].m(e,r);_(e,ie,r),_(e,le,r),_(e,ge,r),_(e,X,r),_(e,ke,r);for(let t=0;t<A.length;t+=1)A[t]&&A[t].m(e,r);_(e,oe,r),_(e,ne,r),_(e,Ce,r),_(e,Y,r),_(e,be,r);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(e,r);_(e,ae,r)},p(e,[r]){if(r&1&&x!==(x=e[0].query+"")&&Q(w,x),r&2){je=F([0,1,2,3]);let t;for(t=0;t<4;t+=1){const T=Le(e,je,t);R[t]?R[t].p(T,r):(R[t]=Qe(T),R[t].c(),R[t].m(y.parentNode,y))}for(;t<4;t+=1)R[t].d(1)}if(r&4){ce=F(e[2].c_toks);let t;for(t=0;t<ce.length;t+=1){const T=Fe(e,ce,t);P[t]?P[t].p(T,r):(P[t]=Ke(T),P[t].c(),P[t].m(O,null))}for(;t<P.length;t+=1)P[t].d(1);P.length=ce.length}if(r&4){he=F(e[2].ranking);let t;for(t=0;t<he.length;t+=1){const T=Ae(e,he,t);B[t]?B[t].p(T,r):(B[t]=Ge(T),B[t].c(),B[t].m(se.parentNode,se))}for(;t<B.length;t+=1)B[t].d(1);B.length=he.length}if(r&4){fe=F(e[2].stage1);let t;for(t=0;t<fe.length;t+=1){const T=ze(e,fe,t);z[t]?z[t].p(T,r):(z[t]=Je(T),z[t].c(),z[t].m(ie.parentNode,ie))}for(;t<z.length;t+=1)z[t].d(1);z.length=fe.length}if(r&4){re=F(e[2].stage2);let t;for(t=0;t<re.length;t+=1){const T=Be(e,re,t);A[t]?A[t].p(T,r):(A[t]=We(T),A[t].c(),A[t].m(oe.parentNode,oe))}for(;t<A.length;t+=1)A[t].d(1);A.length=re.length}if(r&4){ue=F(e[2].new_ctx.split("[SEP]"));let t;for(t=0;t<ue.length;t+=1){const T=Pe(e,ue,t);H[t]?H[t].p(T,r):(H[t]=Xe(T),H[t].c(),H[t].m(ae.parentNode,ae))}for(;t<H.length;t+=1)H[t].d(1);H.length=ue.length}},i:Ve,o:Ve,d(e){e&&(o(a),o(f),o(c),o(d),o(b),o(g),o(G),o(y),o(I),o(D),o(C),o($),o(O),o(_e),o(ee),o(de),o(J),o(ve),o(se),o(te),o(pe),o(W),o(me),o(ie),o(le),o(ge),o(X),o(ke),o(oe),o(ne),o(Ce),o(Y),o(be),o(ae)),o(l),o(s),o(i),Z(R,e),Z(P,e),Z(B,e),Z(z,e),Z(A,e),Z(H,e)}}}function it(n,l,s){let i,{data:a}=l,f=0;const u=c=>s(1,f=c);return n.$$set=c=>{"data"in c&&s(0,a=c.data)},n.$$.update=()=>{n.$$.dirty&3&&s(2,i=a.hops[f])},[a,f,i,u]}class ht extends Ze{constructor(l){super(),$e(this,l,it,st,Ye,{data:0})}}export{ht as component,ct as universal};
